# 优先队列

### 1.背景

***

操作系统对任务的调度

动态选择优先级高的任务 

其实不知道到底有多少任务 会不停地确定任务的优先级

根据任务的优先级进行排序

**就是查找任务优先级最高的元素**

***

在队列结构中 其实就是队首和队尾的优先级最高

队列也是种线性结构 



先把要用到的数据元素装入数据结构中

这就涉及到入队和出队

***

### 2.普通线性结构 

如果数据机构中某一项操作是0(n) 其实是n方操作 就会很慢

入队 就是讲元素装入结构中  出队就要将所有元素遍历一遍

***

### 3.顺序线性结构 

从小到大 从大到小 

入队 每一次就要遍历  出队直接提取

***

####  3.1玄学

如果见到了0(n) 这种时间复杂度 那一定与树这种数据结构有关

***

### 4.堆实现优先队列



###### 4.1什么是堆

是一棵完全二叉树  

将元素按顺序从上到下一层一层地放 从左到右依次排序 不是满二叉树

###### 4.2有什么性质

分两种 有最大堆和最小堆

最大堆 元素从根节点依次变小

最小堆 元素从根节点依次变大

small details can say a lot

###### 4.3堆的底层实现

用数组实现完全二叉堆 

###### 4.4在二叉堆中 各个节点的关系 要移动数据

如何找到节点的左右孩子 与 父节点

***

### 5.优先队列可以解决什么问题

解决对不断的任务的优先级调度问题

解决完优先级最高的 再在新来的所有任务中解决优先级最高的

优先级最高只是一个代号 也可以是优先级最低的

所有

解决你现在需要的 解决完了之后还会有新的任务 再在其中解决

***

### 6.将方法操作时间复杂度降低

入队与出队 针对于找有优先级高的这一特例 运用完全二叉堆

数组存储的是二叉堆的层序遍历 

###### 6.1运动二叉堆实现优先级调度问题

将数据存储到数组中 数据顺序是二叉堆层序遍历的顺序 

对数据的操作是二叉堆中的操作

数组存 二叉堆做

添加 减少 替换 

让数据的顺序方式变成二叉堆中的顺序 满足最大堆的性质

***

### 7.将任意数组堆化

###### 7.1先将数组传入

7.2找到最后一个叶子节点的父节点

7.3进行siftdown 

***

### 8.优先队列的经典问题

在N个元素中选出前M个元素

快排 NlogN

使用优先队列 NlogM

维护当前看到的前M个元素

先选M个元素在进行操作

